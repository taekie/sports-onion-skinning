# ìŠ¤í¬ì¸  ì–´ë‹ˆì–¸ìŠ¤í‚¤ë‹ (Motion Composite) ì•± ê¸°ìˆ  ê²€í†  ë° êµ¬í˜„ ê³„íš

## ğŸ“Œ ê°œìš”

NYT ìŠ¤íƒ€ì¼ì˜ ìŠ¤í¬ì¸  ëª¨ì…˜ í•©ì„± ì´ë¯¸ì§€ë¥¼ **ì˜ìƒ ì…ë ¥**ìœ¼ë¡œë¶€í„° ìë™ ìƒì„±í•˜ëŠ” ì•±ì„ ë§Œë“¤ê¸° ìœ„í•œ ê¸°ìˆ  ê²€í†  ë¬¸ì„œ.

> **ì°¸ê³  ì´ë¯¸ì§€**: Chloe Kimì˜ Cab Double Cork 1080 â€” í•˜í”„íŒŒì´í”„ ì˜ìƒì„ í”„ë ˆì„ë³„ë¡œ ë¶„í•´í•˜ê³ , ë°°ê²½ì„ íŒŒë…¸ë¼ë§ˆë¡œ ìŠ¤í‹°ì¹­í•œ ìœ„ì— ì„ ìˆ˜ì˜ ê° í”„ë ˆì„ì„ í•©ì„±í•œ ì´ë¯¸ì§€.

---

## âœ… ê²°ë¡ : **êµ¬í˜„ ê°€ëŠ¥**

í˜„ì¬ ì‚¬ìš© ê°€ëŠ¥í•œ ì˜¤í”ˆì†ŒìŠ¤ ê¸°ìˆ  ìŠ¤íƒìœ¼ë¡œ í•µì‹¬ íŒŒì´í”„ë¼ì¸ì„ ëª¨ë‘ êµ¬í˜„í•  ìˆ˜ ìˆìŒ. ë‹¤ë§Œ, ì˜ìƒ ì¡°ê±´(ì¹´ë©”ë¼ ì›€ì§ì„, ì¡°ëª…, í•´ìƒë„)ì— ë”°ë¼ í’ˆì§ˆ ì°¨ì´ê°€ í¬ë¯€ë¡œ **ë°˜ìë™(semi-automatic)** ì ‘ê·¼ì´ í˜„ì‹¤ì .

---

## ğŸ”§ í•µì‹¬ íŒŒì´í”„ë¼ì¸

```mermaid
flowchart LR
    Z[ì˜ìƒ ì—…ë¡œë“œ] --> A[êµ¬ê°„ ì„ íƒ / íŠ¸ë¦¬ë°]
    A --> B[í”„ë ˆì„ ì¶”ì¶œ]
    B --> C[ì¹´ë©”ë¼ ëª¨ì…˜ ì¶”ì •]
    C --> D[ë°°ê²½ íŒŒë…¸ë¼ë§ˆ ìƒì„±]
    C --> E[ì„ ìˆ˜ ì„¸ê·¸ë©˜í…Œì´ì…˜]
    E --> F[ì„ ìˆ˜ ë§ˆìŠ¤í¬ ì¶”ì¶œ]
    D --> G[í•©ì„± / ë¸”ë Œë”©]
    F --> G
    G --> H[ì–´ë…¸í…Œì´ì…˜ ì¶”ê°€]
    H --> I[ìµœì¢… ì´ë¯¸ì§€ ì¶œë ¥]
```

---

## ğŸ“‹ ë‹¨ê³„ë³„ ê¸°ìˆ  ìš”êµ¬ì‚¬í•­

### 0ë‹¨ê³„: ì˜ìƒ ì—…ë¡œë“œ & êµ¬ê°„ ì„ íƒ (Video Upload & Clip Selection)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¸°ìˆ ** | Gradio `gr.Video` + ì»¤ìŠ¤í…€ íƒ€ì„ë¼ì¸ UI |
| **ë‚œì´ë„** | â­â­ (ë³´í†µ) |
| **í•µì‹¬** | ì˜ìƒì„ ì—…ë¡œë“œí•˜ê³ , ì–´ë‹ˆì–¸ìŠ¤í‚¤ë‹í•  êµ¬ê°„(ì‹œì‘/ë ì‹œì )ì„ ì„ íƒ |
| **ì¶œë ¥** | ì„ íƒëœ êµ¬ê°„ì˜ ì‹œì‘/ë íƒ€ì„ìŠ¤íƒ¬í”„ + íŠ¸ë¦¬ë°ëœ ì˜ìƒ |

**UI êµ¬ì„±ìš”ì†Œ**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¬ ì˜ìƒ ì—…ë¡œë“œ (ë“œë˜ê·¸ ì•¤ ë“œë¡­ / íŒŒì¼ ì„ íƒ)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [â–¶ ë¹„ë””ì˜¤ í”„ë¦¬ë·° í”Œë ˆì´ì–´]                        â”‚
â”‚                                                 â”‚
â”‚  â”œâ”€â”€â—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â—â”€â”€â”¤  íƒ€ì„ë¼ì¸ ìŠ¬ë¼ì´ë”      â”‚
â”‚  0:00  ì‹œì‘â–²      ëâ–²  0:30                     â”‚
â”‚                                                 â”‚
â”‚  [ì¸ë„¤ì¼ í”„ë¦¬ë·° ìŠ¤íŠ¸ë¦½]                            â”‚
â”‚  â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”      â”‚
â”‚  â”‚ 1 â”‚â”‚ 2 â”‚â”‚ 3 â”‚â”‚ 4 â”‚â”‚ 5 â”‚â”‚ 6 â”‚â”‚ 7 â”‚â”‚ 8 â”‚      â”‚
â”‚  â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜      â”‚
â”‚                                                 â”‚
â”‚  ì„ íƒ êµ¬ê°„: 0:03.2 ~ 0:08.7 (5.5ì´ˆ, ~165 í”„ë ˆì„)  â”‚
â”‚  í”„ë ˆì„ ê°„ê²©: [ìë™ â–¾]  ì¶”ì¶œ í”„ë ˆì„ ìˆ˜: [15 â–¾]     â”‚
â”‚                                                 â”‚
â”‚  [êµ¬ê°„ í™•ì¸ & ë‹¤ìŒ ë‹¨ê³„ â†’]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ê¸°ìˆ  êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

```python
import gradio as gr
import cv2

def extract_clip(video_path, start_sec, end_sec):
    """ì„ íƒëœ êµ¬ê°„ë§Œ ì¶”ì¶œ"""
    cap = cv2.VideoCapture(video_path)
    fps = cap.get(cv2.CAP_PROP_FPS)
    start_frame = int(start_sec * fps)
    end_frame = int(end_sec * fps)
    
    cap.set(cv2.CAP_PROP_POS_FRAMES, start_frame)
    clip_frames = []
    for i in range(start_frame, end_frame):
        ret, frame = cap.read()
        if not ret: break
        clip_frames.append(frame)
    return clip_frames

def generate_thumbnail_strip(video_path, n_thumbnails=8):
    """íƒ€ì„ë¼ì¸ ì¸ë„¤ì¼ ìŠ¤íŠ¸ë¦½ ìƒì„±"""
    cap = cv2.VideoCapture(video_path)
    total = int(cap.get(cv2.CAP_PROP_FRAME_COUNT))
    indices = [int(i * total / n_thumbnails) for i in range(n_thumbnails)]
    thumbnails = []
    for idx in indices:
        cap.set(cv2.CAP_PROP_POS_FRAMES, idx)
        ret, frame = cap.read()
        if ret:
            thumb = cv2.resize(frame, (120, 68))
            thumbnails.append(thumb)
    return thumbnails

# Gradio UI
with gr.Blocks() as upload_ui:
    video = gr.Video(label="ì˜ìƒ ì—…ë¡œë“œ")
    start = gr.Slider(0, 100, label="ì‹œì‘ ì‹œì  (ì´ˆ)")
    end = gr.Slider(0, 100, label="ë ì‹œì  (ì´ˆ)")
    gallery = gr.Gallery(label="ì„ íƒ êµ¬ê°„ í”„ë¦¬ë·°")
    btn = gr.Button("êµ¬ê°„ í™•ì¸ & í”„ë ˆì„ ì¶”ì¶œ")
```

**ê³ ë ¤ì‚¬í•­**:
- ëŒ€ìš©ëŸ‰ ì˜ìƒ(1GB+) ì—…ë¡œë“œ ì‹œ **ì²­í¬ ì—…ë¡œë“œ** ë˜ëŠ” ì„œë²„ì‚¬ì´ë“œ ì²˜ë¦¬
- ëª¨ë°”ì¼ì—ì„œë„ ë™ì‘í•˜ë„ë¡ ë°˜ì‘í˜• íƒ€ì„ë¼ì¸ UI
- ì˜ìƒ ë©”íƒ€ë°ì´í„° ìë™ í‘œì‹œ (FPS, í•´ìƒë„, ì½”ë±, ê¸¸ì´)
- FFmpegë¡œ êµ¬ê°„ íŠ¸ë¦¬ë° ì‹œ **re-encoding ì—†ì´ ë¹ ë¥¸ ì¶”ì¶œ** (`-c copy`)
- ì„ íƒ êµ¬ê°„ì´ ë„ˆë¬´ ê¸¸ë©´ ê²½ê³  (30ì´ˆ ì´ìƒ â†’ í”„ë ˆì„ ìˆ˜ ê³¼ë‹¤)

**ì§€ì› í¬ë§·**:
`MP4`, `MOV`, `AVI`, `MKV`, `WebM` â€” FFmpeg ê¸°ë°˜ìœ¼ë¡œ ëŒ€ë¶€ë¶„ì˜ ì½”ë± ì§€ì›

---

### 1ë‹¨ê³„: í”„ë ˆì„ ì¶”ì¶œ (Video Frame Extraction)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¸°ìˆ ** | OpenCV `cv2.VideoCapture` |
| **ë‚œì´ë„** | â­ (ì‰¬ì›€) |
| **í•µì‹¬** | ì¼ì • ê°„ê²© ë˜ëŠ” í‚¤í”„ë ˆì„ ê¸°ë°˜ìœ¼ë¡œ í”„ë ˆì„ ì¶”ì¶œ |
| **ì„ íƒ ì‚¬í•­** | ì‚¬ìš©ìê°€ í”„ë ˆì„ ê°„ê²©/ê°œìˆ˜ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆëŠ” UI |

```python
# ê¸°ë³¸ êµ¬í˜„
cap = cv2.VideoCapture("input.mp4")
frames = []
while cap.isOpened():
    ret, frame = cap.read()
    if not ret: break
    frames.append(frame)
```

**ê³ ë ¤ì‚¬í•­**:
- FPSê°€ ë†’ì€ ì˜ìƒ(120fps+)ì˜ ê²½ìš° ëª¨ë“  í”„ë ˆì„ì´ í•„ìš”í•˜ì§€ ì•ŠìŒ
- ì„ ìˆ˜ ì›€ì§ì„ì´ ì ì€ í”„ë ˆì„ì€ ê±´ë„ˆë›°ê¸° (optical flow ê¸°ë°˜ í•„í„°ë§)

---

### 2ë‹¨ê³„: ì¹´ë©”ë¼ ëª¨ì…˜ ì¶”ì • (Homography Estimation)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¸°ìˆ ** | OpenCV Feature Matching + Homography |
| **ë‚œì´ë„** | â­â­â­ (ë³´í†µ~ì–´ë ¤ì›€) |
| **ì•Œê³ ë¦¬ì¦˜** | SIFT/ORB â†’ BFMatcher/FLANN â†’ `cv2.findHomography(RANSAC)` |
| **ëª©ì ** | ì¹´ë©”ë¼ê°€ ì´ë™í•œ ê²½ìš°, ê° í”„ë ˆì„ ê°„ì˜ ë³€í™˜ í–‰ë ¬ ê³„ì‚° |

```python
# í”„ë ˆì„ ê°„ í˜¸ëª¨ê·¸ë˜í”¼ ì¶”ì •
sift = cv2.SIFT_create()
kp1, des1 = sift.detectAndCompute(frame1, None)
kp2, des2 = sift.detectAndCompute(frame2, None)

matches = cv2.BFMatcher().knnMatch(des1, des2, k=2)
# Lowe's ratio test
good = [m for m, n in matches if m.distance < 0.75 * n.distance]

H, mask = cv2.findHomography(src_pts, dst_pts, cv2.RANSAC, 5.0)
```

**í•µì‹¬ ë„ì „ ê³¼ì œ**:
- ì„ ìˆ˜ê°€ í™”ë©´ì˜ ë§ì€ ë¶€ë¶„ì„ ì°¨ì§€í•˜ë©´ ë°°ê²½ íŠ¹ì§•ì ì´ ë¶€ì¡± â†’ **ì„ ìˆ˜ ë§ˆìŠ¤í¬ë¥¼ ì œì™¸í•˜ê³  ë§¤ì¹­** í•„ìš”
- ì¹´ë©”ë¼ íŒ¬/ì¤Œì´ ìˆëŠ” ê²½ìš° ëˆ„ì  í˜¸ëª¨ê·¸ë˜í”¼ ì˜¤ì°¨ ê´€ë¦¬
- ì¤‘ê³„ ì˜ìƒì˜ ê²½ìš° ì¹´ë©”ë¼ ì›Œí¬ê°€ ë³µì¡í•  ìˆ˜ ìˆìŒ

---

### 3ë‹¨ê³„: ë°°ê²½ íŒŒë…¸ë¼ë§ˆ ìƒì„± (Background Panorama Stitching)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¸°ìˆ ** | OpenCV Image Warping + Multi-band Blending |
| **ë‚œì´ë„** | â­â­â­â­ (ì–´ë ¤ì›€) |
| **ë°©ë²•** | í˜¸ëª¨ê·¸ë˜í”¼ë¡œ í”„ë ˆì„ ì›Œí•‘ â†’ ì¤‘ì•™ê°’/í‰ê·  ê¸°ë°˜ ë°°ê²½ í•©ì„± |
| **ëŒ€ì•ˆ** | `cv2.Stitcher` (ë‹¨ìˆœí•œ ê²½ìš°) |

**ì „ëµ: ì„ ìˆ˜ë¥¼ ì œì™¸í•œ ë°°ê²½ë§Œ í•©ì„±**
```python
# ê° í”„ë ˆì„ì—ì„œ ì„ ìˆ˜ë¥¼ ì œì™¸í•œ ì˜ì—­ë§Œ ì‚¬ìš©í•˜ì—¬ ë°°ê²½ ìƒì„±
# median compositeëŠ” ì›€ì§ì´ëŠ” ê°ì²´ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ì œê±°
background = np.median(warped_frames_without_player, axis=0)
```

**í•µì‹¬ ë„ì „ ê³¼ì œ**:
- ìŠ¤ë…¸ìš°ë³´ë“œ í•˜í”„íŒŒì´í”„ì²˜ëŸ¼ ë„“ì€ ì‹œì•¼ê° â†’ íŒŒë…¸ë¼ë§ˆê°€ í¬ê²Œ ëŠ˜ì–´ë‚¨
- ë¸”ë Œë”© ì´ìŒìƒˆ ì²˜ë¦¬ (Laplacian pyramid blending, feathering)
- ì¡°ëª… ë³€í™”ê°€ ìˆëŠ” ê²½ìš° ìƒ‰ìƒ/ë°ê¸° ë³´ì • í•„ìš”

---

### 4ë‹¨ê³„: ì„ ìˆ˜ ì„¸ê·¸ë©˜í…Œì´ì…˜ (Player Segmentation)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¸°ìˆ ** | SAM 2 (Segment Anything Model 2) / YOLO + SAM |
| **ë‚œì´ë„** | â­â­â­ (ë³´í†µ, ëª¨ë¸ ì‚¬ìš©ì€ ì‰¬ì›€) |
| **ëª©ì ** | ê° í”„ë ˆì„ì—ì„œ ì„ ìˆ˜ ì˜ì—­ì„ í”½ì…€ ë‹¨ìœ„ë¡œ ë¶„ë¦¬ |

**ê¶Œì¥ ì ‘ê·¼ë²•**: 
1. **YOLO v8/v11** (ultralytics)ë¡œ ì„ ìˆ˜ ë°”ìš´ë”© ë°•ìŠ¤ ê²€ì¶œ
2. **SAM 2** (Meta)ë¡œ ì •ë°€ ì„¸ê·¸ë©˜í…Œì´ì…˜ ë§ˆìŠ¤í¬ ìƒì„±
3. ì²« í”„ë ˆì„ì—ì„œ í”„ë¡¬í”„íŠ¸ â†’ ì´í›„ í”„ë ˆì„ ìë™ ì¶”ì  (SAM 2 video mode)

```python
from ultralytics import YOLO, SAM

# Step 1: ì„ ìˆ˜ ê²€ì¶œ
yolo = YOLO("yolov8x.pt")
results = yolo(frame)
bbox = results[0].boxes[0].xyxy  # ì„ ìˆ˜ bbox

# Step 2: SAMìœ¼ë¡œ ì •ë°€ ë§ˆìŠ¤í¬
sam = SAM("sam2_l.pt")
mask = sam(frame, bboxes=bbox)
```

**ëŒ€ì•ˆë“¤**:
- `rembg` (ê°„ë‹¨í•œ ë°°ê²½ ì œê±°, í’ˆì§ˆ ë‚®ìŒ)
- MOG2/KNN ë°°ê²½ ì°¨ê° (ê³ ì • ì¹´ë©”ë¼ ì „ìš©)
- Mask R-CNN (traditional instance segmentation)

**í•µì‹¬ ë„ì „ ê³¼ì œ**:
- ìŠ¤ë…¸ìš°ë³´ë“œ ì¥ë¹„(ë³´ë“œ, ê³ ê¸€)ê°€ ì„ ìˆ˜ ëª¸ê³¼ ë¶„ë¦¬ë˜ì§€ ì•Šë„ë¡
- ëˆˆ/ì–¼ìŒ ìœ„ì˜ ì„ ìˆ˜ â†’ ë°°ê²½ê³¼ ìƒ‰ìƒì´ ë¹„ìŠ·í•  ìˆ˜ ìˆìŒ
- ê³µì¤‘ ë™ì‘ ì‹œ ë¹„ì •í˜• í¬ì¦ˆ ì²˜ë¦¬

---

### 5ë‹¨ê³„: í•©ì„± ë° ë¸”ë Œë”© (Compositing)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¸°ìˆ ** | Alpha Blending, Poisson Blending |
| **ë‚œì´ë„** | â­â­â­ (ë³´í†µ) |
| **ëª©ì ** | íŒŒë…¸ë¼ë§ˆ ë°°ê²½ ìœ„ì— Nê°œì˜ ì„ ìˆ˜ ë§ˆìŠ¤í¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ë°°ì¹˜ |

```python
# ê° í”„ë ˆì„ì˜ ì„ ìˆ˜ë¥¼ ë°°ê²½ íŒŒë…¸ë¼ë§ˆ ìœ„ì— ë°°ì¹˜
for i, (frame, mask, H) in enumerate(zip(frames, masks, homographies)):
    # ì„ ìˆ˜ ì¢Œí‘œë¥¼ íŒŒë…¸ë¼ë§ˆ ì¢Œí‘œê³„ë¡œ ë³€í™˜
    warped_player = cv2.warpPerspective(frame * mask, H, panorama_size)
    warped_mask = cv2.warpPerspective(mask, H, panorama_size)
    
    # ì•ŒíŒŒ ë¸”ë Œë”©
    alpha = opacity_schedule(i, total_frames)  # ì‹œê°„ìˆœ íˆ¬ëª…ë„ ì¡°ì ˆ
    panorama = panorama * (1 - warped_mask * alpha) + warped_player * alpha
```

**ì‹œê°ì  íš¨ê³¼ ì˜µì…˜**:
- ì‹œê°„ ìˆœì„œì— ë”°ë¥¸ **íˆ¬ëª…ë„ ê·¸ë˜ë””ì–¸íŠ¸** (ì˜¤ë˜ëœ í”„ë ˆì„ â†’ ë°˜íˆ¬ëª…)
- ì„ ìˆ˜ë³„ **ìƒ‰ìƒ í‹´íŠ¸** ì ìš©
- **ê·¸ë¦¼ì/ê¸€ë¡œìš°** íš¨ê³¼ë¡œ ê¹Šì´ê° ì¶”ê°€
- **ê¶¤ì ì„ ** (trajectory arc) ì˜¤ë²„ë ˆì´

---

### 6ë‹¨ê³„: ì–´ë…¸í…Œì´ì…˜ (Annotation & Labels)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¸°ìˆ ** | Pillow / matplotlib / SVG |
| **ë‚œì´ë„** | â­â­ (ì‰¬ì›€~ë³´í†µ) |
| **ëª©ì ** | ë†’ì´ í‘œì‹œ, íŠ¸ë¦­ ì´ë¦„, ê¶¤ì  ë“± ì •ë³´ ì¶”ê°€ |

NYT ì´ë¯¸ì§€ì²˜ëŸ¼:
- ë†’ì´ ëˆˆê¸ˆ (í¬ì¦ˆ ì¶”ì •ìœ¼ë¡œ ìë™ ê³„ì‚° ê°€ëŠ¥)
- íŠ¸ë¦­ ì´ë¦„, íšŒì „ ìˆ˜ ë¼ë²¨
- ê¶¤ì  ê³¡ì„  (í¬ì¦ˆì˜ ì¤‘ì‹¬ì ì„ ì—°ê²°)

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½

### í•„ìˆ˜ ê¸°ìˆ 

| ì¹´í…Œê³ ë¦¬ | ê¸°ìˆ /ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ |
|----------|----------------|------|
| ì˜ìƒ ì²˜ë¦¬ | **OpenCV** (Python) | í”„ë ˆì„ ì¶”ì¶œ, í˜¸ëª¨ê·¸ë˜í”¼, ì›Œí•‘, ë¸”ë Œë”© |
| ë”¥ëŸ¬ë‹ ì„¸ê·¸ë©˜í…Œì´ì…˜ | **SAM 2** (Meta) | ì •ë°€ ì„ ìˆ˜ ë§ˆìŠ¤í¬ ì¶”ì¶œ |
| ê°ì²´ ê²€ì¶œ | **YOLO v8/v11** (Ultralytics) | ì„ ìˆ˜ ë°”ìš´ë”© ë°•ìŠ¤ ê²€ì¶œ |
| ì´ë¯¸ì§€ ì²˜ë¦¬ | **Pillow / scikit-image** | í›„ì²˜ë¦¬, ì–´ë…¸í…Œì´ì…˜ |
| GPU ê°€ì† | **PyTorch + CUDA** | SAM/YOLO ì¶”ë¡  |

### ì„ íƒ ê¸°ìˆ  (ê³ ê¸‰ ê¸°ëŠ¥)

| ì¹´í…Œê³ ë¦¬ | ê¸°ìˆ /ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ |
|----------|----------------|------|
| í¬ì¦ˆ ì¶”ì • | **MediaPipe / MMPose** | ë†’ì´ ì¸¡ì •, ìì„¸ ë¶„ì„, ê¶¤ì  ì¤‘ì‹¬ì  |
| ë¹„ë””ì˜¤ ì•ˆì •í™” | **vidstab** | í”ë“¤ë¦¬ëŠ” ì˜ìƒ ë³´ì • |
| ì¸í˜ì¸íŒ… | **LaMa / OpenCV Inpaint** | ì„ ìˆ˜ ì œê±° í›„ ë°°ê²½ ë³µì› |
| ê´‘í•™ íë¦„ | **OpenCV Optical Flow** | ì›€ì§ì„ ê¸°ë°˜ í”„ë ˆì„ ì„ íƒ |
| UI í”„ë ˆì„ì›Œí¬ | **Gradio / Streamlit** | ì›¹ ì¸í„°í˜ì´ìŠ¤ |

---

## âš ï¸ ì£¼ìš” ë„ì „ ê³¼ì œ & ë¦¬ìŠ¤í¬

### ë‚œì´ë„ê°€ ë†’ì€ ë¶€ë¶„

1. **ì¹´ë©”ë¼ ëª¨ì…˜ì´ ë³µì¡í•œ ì¤‘ê³„ ì˜ìƒ**
   - ì¤Œì¸/ì•„ì›ƒ, ë¹ ë¥¸ íŒ¬ â†’ í˜¸ëª¨ê·¸ë˜í”¼ ëˆ„ì  ì˜¤ì°¨
   - í•´ê²°: ì¹´ë©”ë¼ ëª¨ì…˜ì´ ë¶€ë“œëŸ¬ìš´ êµ¬ê°„ë§Œ ì„ íƒí•˜ê±°ë‚˜, ê³ ì • ì¹´ë©”ë¼ ì˜ìƒ ê¶Œì¥

2. **ì„ ìˆ˜-ë°°ê²½ ê²½ê³„ í’ˆì§ˆ**  
   - ì„¸ê·¸ë©˜í…Œì´ì…˜ ë§ˆìŠ¤í¬ ê²½ê³„ê°€ ê±°ì¹ ë©´ í•©ì„± í’ˆì§ˆ ì €í•˜
   - í•´ê²°: SAM 2ì˜ ê³ í•´ìƒë„ ëª¨ë“œ ì‚¬ìš©, matting í›„ì²˜ë¦¬ (alpha matte refinement)

3. **ì„ ìˆ˜ë“¤ ê°„ ê²¹ì¹¨ (Occlusion)**
   - ë™ì¼ ì„ ìˆ˜ì˜ ì„œë¡œ ë‹¤ë¥¸ ì‹œì ì´ ê²¹ì¹˜ëŠ” ê²½ìš° ì‹œê°ì  í˜¼ë€
   - í•´ê²°: í”„ë ˆì„ ê°„ê²© ì¡°ì ˆ, íˆ¬ëª…ë„ ì œì–´, ì ì ˆí•œ í”„ë ˆì„ ìˆ˜ ì„ íƒ

4. **ë¹„ì •í˜• ì´¬ì˜ í™˜ê²½**
   - ì¡°ëª… ë³€í™”, ê´€ì¤‘ ì›€ì§ì„, ë°˜ì‚¬ê´‘ ë“±
   - í•´ê²°: ì¤‘ì•™ê°’ ê¸°ë°˜ ë°°ê²½ í•©ì„±ìœ¼ë¡œ ì›€ì§ì´ëŠ” ê°ì²´ ì œê±°

### ì˜ìƒ ì…ë ¥ ì¡°ê±´ë³„ ë‚œì´ë„

| ì˜ìƒ ì¡°ê±´ | ë‚œì´ë„ | ë¹„ê³  |
|-----------|--------|------|
| **ê³ ì • ì¹´ë©”ë¼ + ê¹¨ë—í•œ ë°°ê²½** | â­â­ | ê°€ì¥ ë¨¼ì € ì§€ì›. ìŠ¤ì¼€ì´íŠ¸íŒŒí¬ ì—°ìŠµì˜ìƒ ë“± |
| **ëŠë¦° íŒ¬ + ë‹¨ì¼ ì„ ìˆ˜** | â­â­â­ | í•˜í”„íŒŒì´í”„ ì¤‘ê³„ ì˜ìƒ ìˆ˜ì¤€ |
| **ë¹ ë¥¸ ì¹´ë©”ë¼ ì›Œí¬ + ë‹¤ìˆ˜ ì„ ìˆ˜** | â­â­â­â­â­ | ë§¤ìš° ì–´ë ¤ì›€, ìˆ˜ë™ ê°œì… í•„ìš” |

---

## ğŸ“ êµ¬í˜„ ìˆœì„œ (MVP â†’ í™•ì¥)

### Phase 1: MVP (1~2ì£¼)
- [ ] ì˜ìƒ ì—…ë¡œë“œ & êµ¬ê°„ ì„ íƒ UI (Gradio ê¸°ë°˜)
- [ ] ê³ ì • ì¹´ë©”ë¼ ì˜ìƒì—ì„œ í”„ë ˆì„ ì¶”ì¶œ
- [ ] SAM 2ë¡œ ì„ ìˆ˜ ì„¸ê·¸ë©˜í…Œì´ì…˜
- [ ] ë‹¨ìˆœ í•©ì„± (í”„ë ˆì„ì„ ê·¸ëŒ€ë¡œ í•œ ì¥ì— ë°°ì¹˜)
- [ ] CLI ì¸í„°í˜ì´ìŠ¤

### Phase 2: ì¹´ë©”ë¼ ëª¨ì…˜ ëŒ€ì‘ (2~3ì£¼)
- [ ] í˜¸ëª¨ê·¸ë˜í”¼ ê¸°ë°˜ í”„ë ˆì„ ì •ë ¬
- [ ] ë°°ê²½ íŒŒë…¸ë¼ë§ˆ ìŠ¤í‹°ì¹­
- [ ] ì•ŒíŒŒ ë¸”ë Œë”© / íˆ¬ëª…ë„ ì œì–´
- [ ] ì›¹ UI (Gradio)

### Phase 3: ê³ ê¸‰ ê¸°ëŠ¥ (3~4ì£¼)
- [ ] í¬ì¦ˆ ì¶”ì • â†’ ê¶¤ì /ë†’ì´ ìë™ ê³„ì‚°
- [ ] ì–´ë…¸í…Œì´ì…˜ ìë™ ìƒì„±
- [ ] ì¸í˜ì¸íŒ…ìœ¼ë¡œ ë°°ê²½ ë³µì›
- [ ] í”„ë ˆì„ ìë™ ì„ íƒ (optical flow ê¸°ë°˜)
- [ ] ë‹¤ì–‘í•œ ì¶œë ¥ ìŠ¤íƒ€ì¼ (NYT ìŠ¤íƒ€ì¼, ìŠ¤íŠ¸ë¡œë³´ ìŠ¤íƒ€ì¼ ë“±)

### Phase 4: í”„ë¡œë•ì…˜ (4ì£¼+)
- [ ] GPU ì„œë²„ ë°°í¬ (Cloud Run / Modal)
- [ ] ë°°ì¹˜ ì²˜ë¦¬ ì§€ì›
- [ ] ë‹¤ì–‘í•œ ìŠ¤í¬ì¸  ì§€ì› (í”¼ê²¨, ì²´ì¡°, BMX ë“±)

---

## ğŸ§ª PoC (Proof of Concept) ì œì•ˆ

ë¹ ë¥¸ ê²€ì¦ì„ ìœ„í•´ ì•„ë˜ ìˆœì„œë¡œ PoC ì§„í–‰ ê¶Œì¥:

1. **YouTubeì—ì„œ í•˜í”„íŒŒì´í”„ ì˜ìƒ ë‹¤ìš´ë¡œë“œ** (ê³ ì • ì¹´ë©”ë¼ êµ¬ê°„)
2. **OpenCVë¡œ 10~20 í”„ë ˆì„ ì¶”ì¶œ**
3. **SAM 2ë¡œ ì„ ìˆ˜ ë§ˆìŠ¤í¬ ì¶”ì¶œ**
4. **í”„ë ˆì„ë“¤ì„ í•˜ë‚˜ì˜ ìº”ë²„ìŠ¤ì— í•©ì„±**
5. **ê²°ê³¼ë¬¼ í™•ì¸ í›„ í˜¸ëª¨ê·¸ë˜í”¼ ì •ë ¬ ì¶”ê°€**

PoC ì˜ˆìƒ ì†Œìš”ì‹œê°„: **2~3ì‹œê°„** (í™˜ê²½ ì„¸íŒ… í¬í•¨)

---

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡° (ì œì•ˆ)

```
sports-onion-skinning/
â”œâ”€â”€ README.md
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ clip_selector.py        # ì˜ìƒ ì—…ë¡œë“œ, êµ¬ê°„ ì„ íƒ, íŠ¸ë¦¬ë°
â”‚   â”œâ”€â”€ frame_extractor.py      # ì˜ìƒ â†’ í”„ë ˆì„
â”‚   â”œâ”€â”€ homography.py           # ì¹´ë©”ë¼ ëª¨ì…˜ ì¶”ì •
â”‚   â”œâ”€â”€ panorama.py             # ë°°ê²½ íŒŒë…¸ë¼ë§ˆ ìƒì„±
â”‚   â”œâ”€â”€ segmentation.py         # SAM/YOLO ì„ ìˆ˜ ì„¸ê·¸ë©˜í…Œì´ì…˜
â”‚   â”œâ”€â”€ compositor.py           # í•©ì„± ì—”ì§„
â”‚   â”œâ”€â”€ annotator.py            # ë¼ë²¨/ê¶¤ì  ì¶”ê°€
â”‚   â””â”€â”€ pipeline.py             # ì „ì²´ íŒŒì´í”„ë¼ì¸ í†µí•©
â”œâ”€â”€ app.py                      # Gradio ì›¹ UI
â”œâ”€â”€ config.yaml                 # ì„¤ì • íŒŒì¼
â””â”€â”€ examples/
    â”œâ”€â”€ input/                  # í…ŒìŠ¤íŠ¸ ì˜ìƒ
    â””â”€â”€ output/                 # ê²°ê³¼ ì´ë¯¸ì§€
```

---

## ğŸ”— ì°¸ê³  ìë£Œ

- [SAM 2 (Meta)](https://github.com/facebookresearch/sam2) â€” ë¹„ë””ì˜¤ ì„¸ê·¸ë©˜í…Œì´ì…˜
- [Ultralytics YOLO](https://docs.ultralytics.com/) â€” ê°ì²´ ê²€ì¶œ
- [OpenCV Stitcher](https://docs.opencv.org/4.x/d2/d8d/classcv_1_1Stitcher.html) â€” ì´ë¯¸ì§€ ìŠ¤í‹°ì¹­
- [LaMa Inpainting](https://github.com/advimman/lama) â€” ì´ë¯¸ì§€ ì¸í˜ì¸íŒ…
- [Gradio](https://gradio.app/) â€” ì›¹ UI

---

*ë¬¸ì„œ ì‘ì„±: 2026-02-13 | ì´ ë¬¸ì„œëŠ” ë‹¤ë¥¸ ì—ì´ì „íŠ¸ê°€ êµ¬í˜„ ì‹œ ì°¸ì¡°í•  ìˆ˜ ìˆë„ë¡ ì‘ì„±ë¨*
